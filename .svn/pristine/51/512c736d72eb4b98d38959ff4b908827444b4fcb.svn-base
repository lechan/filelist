<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>演示：jQuery掷色子动画</title>
<style type="text/css">
.demo{width:760px; height:120px; margin:10px auto;}
.wrap{width:300px; height:90px; margin:120px auto 30px auto; position:relative}
.dice{width:90px; height:90px; background:url(dice.png) no-repeat; float:left;}
.dice_1{background-position:-5px -4px}
.dice_2{background-position:-5px -107px}
.dice_3{background-position:-5px -212px}
.dice_4{background-position:-5px -317px}
.dice_5{background-position:-5px -427px}
.dice_6{background-position:-5px -535px}
.dice_t{background-position:-5px -651px}
.dice_s{background-position:-5px -763px}
.dice_e{background-position:-5px -876px}
p#result{text-align:center; font-size:16px}
p#result span{font-weight:bold; color:#f30; margin:6px}
</style>
<script type="text/javascript" src="../js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(function(){
	var btn = $("#btn");
	var dice = $(".dice");
	var switchBtn = true;
	btn.click(function(){
		if(switchBtn){
			switchBtn = false
			dice.attr("class","dice");//清除上次动画后的点数
			var num = Math.floor(Math.random()*6+1);//产生随机数1-6
			dice.animate({left: '+2px'}, 100,function(){
				dice.addClass("dice_t");
			}).delay(200).animate({top:'-2px'},100,function(){
				dice.removeClass("dice_t").addClass("dice_s");
			}).delay(200).animate({opacity: 'show'},600,function(){
				dice.removeClass("dice_s").addClass("dice_e");
			}).delay(100).animate({left:'-2px',top:'2px'},100,function(){
				dice.removeClass("dice_e").addClass("dice_"+num);
				$("#result").html("您掷得点数是<span>"+num+"</span>");
				setTimeout(function(){switchBtn = true;},1000);
				
			});
		}
	});
});
</script>
</head>
<body>
<div id="main">
   <div class="demo">
   		<div class="wrap">
   			<div id="dice" class="dice dice_1"></div>
            <div id="dice2" class="dice dice_1"></div>
            <div id="dice3" class="dice dice_1"></div>
        </div>
        <div style="clear:both; width:100px; height:30px; border:2px solid #000; margin:0 auto; text-align:center; line-height:30px;" id="btn">按钮</div>
        <p id="result">请直接点击上面的色子！</p>
   </div>
</div>
</body>
</html>