<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>loading动画</title>
</head>

<body>
<style type="text/css">
*{ margin:0px; padding:0px;}
#bar_wrap{ width:600px; height:20px; margin:50px auto; background:#CCC; position:relative;}
#bar{ width:0px; height:20px; position:absolute; left:0px; top:0px; background:#C33;}
#loading_num{ width:600px; height:30px; margin:0 auto; font-size:20px; color:#333; text-align:center; line-height:30px;}
</style>
<div id="bar_wrap">
	<div id="bar"></div>
</div>
<div id="loading_num"></div>
<script type="text/javascript">
function loading_bar(init_num,end_num,total_num){
	var 
	bar_wrap = document.getElementById("bar_wrap"),
	bar = document.getElementById("bar"),
	loading_num = document.getElementById("loading_num"),
	w = bar_wrap.clientWidth;
	bar.style.width = w / total_num * init_num +"px";
	loading_num.innerHTML = init_num + " / " + total_num;
	setTimeout(function(){
		bar.style.webkitTransition = "all 1s ease-in-out";
		bar.style.width = w / total_num * end_num +"px";
		setTimeout(function(){
			loading_num.innerHTML = end_num + " / " + total_num;
		},1000);
	},100);
}
loading_bar(1,4,6);
setTimeout(function(){
	loading_bar(4,6,6);	
},2000);
</script>
</body>
</html>
