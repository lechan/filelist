/*
 * Swipe 2.0
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/

/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */

function Swipe(a,b){function m(){g=f.children,j=g.length,g.length<2&&(b.continuous=!1),e.transitions&&b.continuous&&g.length<3&&(f.appendChild(g[0].cloneNode(!0)),f.appendChild(f.children[1].cloneNode(!0)),g=f.children),h=new Array(g.length),i=a.getBoundingClientRect().width||a.offsetWidth,f.style.width=g.length*i+"px";var c=g.length;while(c--){var d=g[c];d.style.width=i+"px",d.setAttribute("data-index",c),e.transitions&&(d.style.left=c*-i+"px",r(c,k>c?-i:k<c?i:0,0))}b.continuous&&e.transitions&&(r(p(k-1),-i,0),r(p(k+1),i,0)),e.transitions||(f.style.left=k*-i+"px"),a.style.visibility="visible"}function n(){b.continuous?q(k-1):k&&q(k-1)}function o(){b.continuous?q(k+1):k<g.length-1&&q(k+1)}function p(a){return(g.length+a%g.length)%g.length}function q(a,c){if(k==a)return;if(e.transitions){var f=Math.abs(k-a)/(k-a);if(b.continuous){var j=f;f=-h[p(a)]/i,f!==j&&(a=-f*g.length+a)}var m=Math.abs(k-a)-1;while(m--)r(p((a>k?a:k)-m-1),i*f,0);a=p(a),r(k,i*f,c||l),r(a,0,c||l),b.continuous&&r(p(a-f),-(i*f),0)}else a=p(a),t(k*-i,a*-i,c||l);k=a,d(b.callback&&b.callback(k,g[k]))}function r(a,b,c){s(a,b,c),h[a]=b}function s(a,b,c){var d=g[a],e=d&&d.style;if(!e)return;e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)"+"translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)"}function t(a,c,d){if(!d){f.style.left=c+"px";return}var e=+(new Date),h=setInterval(function(){var i=+(new Date)-e;if(i>d){f.style.left=c+"px",u&&w(),b.transitionEnd&&b.transitionEnd.call(event,k,g[k]),clearInterval(h);return}f.style.left=(c-a)*(Math.floor(i/d*100)/100)+a+"px"},4)}function w(){v=setTimeout(o,u)}function x(){u=0,clearTimeout(v)}var c=function(){},d=function(a){setTimeout(a||c,0)},e={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(a.style[b[c]]!==undefined)return!0;return!1}(document.createElement("swipe"))};if(!a)return;var f=a.children[0],g,h,i,j;b=b||{};var k=parseInt(b.startSlide,10)||0,l=b.speed||300;b.continuous=b.continuous!==undefined?b.continuous:!0;var u=b.auto||0,v,y={},z={},A,B={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":d(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":d(this.transitionEnd(a));break;case"resize":d(m)}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];y={x:b.pageX,y:b.pageY,time:+(new Date)},A=undefined,z={},f.addEventListener("touchmove",this,!1),f.addEventListener("touchend",this,!1)},move:function(a){if(a.touches.length>1||a.scale&&a.scale!==1)return;b.disableScroll&&a.preventDefault();var c=a.touches[0];z={x:c.pageX-y.x,y:c.pageY-y.y},typeof A=="undefined"&&(A=!!(A||Math.abs(z.x)<Math.abs(z.y))),A||(a.preventDefault(),x(),b.continuous?(s(p(k-1),z.x+h[p(k-1)],0),s(k,z.x+h[k],0),s(p(k+1),z.x+h[p(k+1)],0)):(z.x=z.x/(!k&&z.x>0||k==g.length-1&&z.x<0?Math.abs(z.x)/i+1:1),s(k-1,z.x+h[k-1],0),s(k,z.x+h[k],0),s(k+1,z.x+h[k+1],0)))},end:function(a){var c=+(new Date)-y.time,d=Number(c)<250&&Math.abs(z.x)>20||Math.abs(z.x)>i/2,e=!k&&z.x>0||k==g.length-1&&z.x<0;b.continuous&&(e=!1);var j=z.x<0;A||(d&&!e?(j?(b.continuous?(r(p(k-1),-i,0),r(p(k+2),i,0)):r(k-1,-i,0),r(k,h[k]-i,l),r(p(k+1),h[p(k+1)]-i,l),k=p(k+1)):(b.continuous?(r(p(k+1),i,0),r(p(k-2),-i,0)):r(k+1,i,0),r(k,h[k]+i,l),r(p(k-1),h[p(k-1)]+i,l),k=p(k-1)),b.callback&&b.callback(k,g[k])):b.continuous?(r(p(k-1),-i,l),r(k,0,l),r(p(k+1),i,l)):(r(k-1,-i,l),r(k,0,l),r(k+1,i,l))),f.removeEventListener("touchmove",B,!1),f.removeEventListener("touchend",B,!1)},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==k&&(u&&w(),b.transitionEnd&&b.transitionEnd.call(a,k,g[k]))}};return m(),u&&w(),e.addEventListener?(e.touch&&f.addEventListener("touchstart",B,!1),e.transitions&&(f.addEventListener("webkitTransitionEnd",B,!1),f.addEventListener("msTransitionEnd",B,!1),f.addEventListener("oTransitionEnd",B,!1),f.addEventListener("otransitionend",B,!1),f.addEventListener("transitionend",B,!1)),window.addEventListener("resize",B,!1)):window.onresize=function(){m()},{setup:function(){m()},slide:function(a,b){x(),q(a,b)},prev:function(){x(),n()},next:function(){x(),o()},stop:function(){x()},getPos:function(){return k},getNumSlides:function(){return j},kill:function(){x(),f.style.width="",f.style.left="";var a=g.length;while(a--){var b=g[a];b.style.width="",b.style.left="",e.transitions&&s(a,0,0)}e.addEventListener?(f.removeEventListener("touchstart",B,!1),f.removeEventListener("webkitTransitionEnd",B,!1),f.removeEventListener("msTransitionEnd",B,!1),f.removeEventListener("oTransitionEnd",B,!1),f.removeEventListener("otransitionend",B,!1),f.removeEventListener("transitionend",B,!1),window.removeEventListener("resize",B,!1)):window.onresize=null}}}function FastClick(a,b){function d(a,b){return function(){return a.apply(b,arguments)}}var c;b=b||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=b.touchBoundary||10,this.layer=a,this.tapDelay=b.tapDelay||200;if(FastClick.notNeeded(a))return;var e=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],f=this;for(var g=0,h=e.length;g<h;g++)f[e[g]]=d(f[e[g]],f);deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;b==="click"?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;b==="click"?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),typeof a.onclick=="function"&&(c=a.onclick,a.addEventListener("click",function(a){c(a)},!1),a.onclick=null)}function t(){return v||z(),l}function z(a){var b=!1;a||(a=document.domain,b=!0),"."===a.substr(0,1)&&(a=a.substr(1)),"www."===a.substr(0,4)&&b&&(a=a.substr(4)),l="."+a,v=!0}function A(a){s.r[a]={expiration:3600,length:"",format:"assoc"}}function B(a,b,c,d,e,f){return s.set(a,b,c,d,e,f)}function C(a,b){return s.get(a,b)}function D(){}function E(){this.w=F.ca(),this.o=!0}function J(a,b){if(a.w.hasOwnProperty(b))return a.w[b]}function K(a,b,c,d,e){JSON.stringify(c),b&&(c&&(d=H(a,b),a.e[b]=c,a.I[b]=d,cookie_value="json"===d?JSON.stringify(c):F.O(c)),c=t(),e=I(a,b),F.q("ln_"+b,cookie_value,e,"/",c))}function G(a,b){if(a.e.hasOwnProperty(b))return!0}function H(a,b){if(a.r.hasOwnProperty(b))return a.r[b].format}function I(a,b){if(a.r.hasOwnProperty(b))return a.r[b].fc}function L(a){this.R={},this.options={Gb:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),ba:{name:"queryKey",G:/(?:^|&)([^&=]*)=?([^&]*)/g},G:{Fb:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,ub:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a&&(this.R=M(this,a))}function N(a){if(a.R.hasOwnProperty("host"))return a.R.host}function M(a,b){for(var c=a.options,d=c.Gb?c.G.Fb.exec(b):c.G.ub.exec(b),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.ba.name]={},e[c.key[12]].replace(c.ba.G,function(a,b,d){b&&(e[c.ba.name][b]=d)}),e}function O(){this.H={},this.set("timestamp",F.n())}function P(a){this.startTime=F.n(),A("v"),A("s"),this.options={Ca:0,ea:1800,ma:!1,f:"",Y:2e3};if(a)for(var b in a)this.options[b]=a[b];this.page=new O}function Q(a,b){if(a.c.hasOwnProperty(b))return a.c[b]}function R(a){var b=C("v","vid");b||(b=F.pa(15),a.c.is_new_visitor=!0,B("v","vid",b,!0)),a.c.visitor_id=b}define("app/tool",["require","exports","module"],function(a,b,c){var d=window.lestore||window.App5||window.newxb,e={formatTpl:function(a,b,c){return a.replace(/#\{(.+?)\}/g,function(a,d){var e="",f=b[d];return typeof f=="undefined"&&(f=d),"[object Function]"===Object.prototype.toString.call(f)?e=f(c):e=c[f],"undefined"==typeof e?"":e})},scrollStatus:function(){var a=!0,b=function(){var a=this;document.addEventListener("touchmove",function(b){a.status||(b.preventDefault(),b.stopPropagation())},!1)};return{status:a,init:b}}(),getURLParam:function(a){var b=window.location.search,c,d={},e,f;if(!b)return"";c=b.slice(1),c.indexOf("&")===-1&&(f=c.split("="),d[f[0]]=f[1]),e=c.split("&");for(var g=0;g<e.length;g+=1)f=e[g].split("="),d[f[0].toLowerCase()]=f[1];return this.getURLParam=function(a){return a=a.toLowerCase(),d[a]},this.getURLParam(a)},cookie:function(){var a=window.location.host,b=function(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?b[2]:""},c=function(b,c,d){var e=d||30,f=new Date;f.setTime(f.getTime()+e*24*60*60*1e3),document.cookie=b+"="+c+";path=/;domain="+a+";expires="+f.toGMTString()};return{get:b,set:c}}(),loadJS:function(a,b){var c=document.createElement("script");c.type="text/javascript",c.onload=function(){b&&b()},c.src=a,document.getElementsByTagName("head")[0].appendChild(c)},rand:function(a,b){return Math.floor(a+Math.random()*(b-a+1))},formatDate:function(a,b){return Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,RegExp.$1.length==1?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},b=b||"yyyy-MM-dd hh:mm:ss",(new Date(parseInt(a))).format(b)},countdown:function(){var a={netUrl:"http://all.vic.sina.com.cn/201301smart_app/show_time.php",begin:function(a,b,c){window.diffTime?d(a,b,c):e.loadJS(this.netUrl,function(){window.diffTime=ServerSeconds*1e3-(new Date).getTime(),d(a,b,c)})}},b=function(a){return a<10?a="0"+a:a=""+a,a},c=function(a){var c=Math.floor(a/864e5),d=Math.floor(a/36e5)%24,e=Math.floor(a/6e4)%60,f=Math.floor(a/1e3)%60,g=c+"天"+b(d)+"小时"+b(e)+"分"+b(f)+"秒";return g},d=function(a,b,d){var e=null,f=0,g=(new Date(b)).getTime(),h=(new Date).getTime()+parseInt(window.diffTime),i=document.querySelector("#"+a);i&&g-h>0?e=setInterval(function(){f=g-h;if(f>=0)i.innerHTML=c(f);else{clearInterval(e);if(d&&"[object Function]"===Object.prototype.toString.call(d))return d(),!1}h+=1e3},1e3):(i.innerHTML=c(f),d())},f=function(b,c,d){a.begin(b,c,d)};return{init:f}}()};c.exports=e}),define("app/dialog",[],function(){var a=function(){var a,b,c=navigator.userAgent,d=c.indexOf("Android"),e=parseFloat(c.slice(d+8)),f=function(){a=document.createElement("div"),a.id="mask",a.className="pa",b=document.createElement("div"),b.id="dialogWrapper",b.className=d>=0?e<4?"pa":"pf":"pf",document.body.appendChild(a),document.body.appendChild(b),document.addEventListener("touchmove",function(b){window.getComputedStyle(a,null).display==="block"&&(b.preventDefault(),b.stopPropagation())},!1),f=function(){a.style.height=document.body.scrollHeight+"px",a.style.display="block"}},g=function(c,d){var e,g=function(a){b.style.top=(document.documentElement.clientHeight-parseFloat(a))/2+"px",b.style.left="50%",b.style.marginLeft=-b.offsetWidth/2+"px"};f(),c&&(b.innerHTML=c,b.style.display="block",e=window.getComputedStyle(b.querySelector("section"),null),g(e.height),d&&d()),window.onresize=function(){a.style.height=document.body.scrollHeight+"px"}},h=function(){a.style.display="none",b.style.display="none"};return{ready:f,open:g,close:h}}();return a}),define("app/toast",["zepto"],function(){var a=function(){var a,b,c=function(){b=document.createElement("span"),b.id="toast",b.className="tcenter pf",document.body.appendChild(b),c=function(a){b.innerText=a,b.style.marginLeft=-b.offsetWidth/2+"px",$(b).addClass("toastAnimation"),b.addEventListener("webkitAnimationStart",function(){b.style.bottom="1.5em"}),b.addEventListener("webkitAnimationEnd",function(){b.style.bottom="-10em",$(b).removeClass("toastAnimation")})}},d=function(a){c(a)};return{ready:c,show:d}}();return a}),define("app/lazyload",["zepto"],function(){var a={init:function(){var a=this;a.onerrorImgUrl="./images/grey.png",a.srcStore="dataimg",a.class="lazy",a.sensitivity=50,minScroll=5,slowScrollTime=200,ios=navigator.appVersion.match(/(iPhone\sOS)\s([\d_]+)/),isIos=ios&&!0||!1,isoVersion=isIos&&ios[2].split("_"),isoVersion=isoVersion&&parseFloat(isoVersion.length>1?isoVersion.splice(0,2).join("."):isoVersion[0],10),isIos=a.isPhone=isIos&&isoVersion<6;if(isIos){var b,c;$(window).on("touchstart",function(){b={sy:window.scrollY,time:Date.now()},c&&clearTimeout(c)}).on("touchend",function(d){if(d&&d.changedTouches){var e=Math.abs(window.scrollY-b.sy);if(e>minScroll){var f=Date.now()-b.time;c=setTimeout(function(){a.changeimg(),b={},clearTimeout(c),c=null},f>slowScrollTime?0:200)}}else a.changeimg()}).on("touchcancel",function(){c&&clearTimeout(c),b={}})}else $(window).on("scroll",function(){a.changeimg()});setTimeout(function(){a.trigger()},90)},trigger:function(){var a=this;eventType=a.isPhone&&"touchend"||"scroll",a.imglist=$("img."+a.class+""),$(window).trigger(eventType)},changeimg:function(){function a(a){var b=window.pageYOffset,d=b+window.innerHeight,e=a.offset().top;return e>=b&&e-c.sensitivity<=d}function b(a,b){var d=a.attr(c.srcStore);a.attr("src",d),a[0].onload||(a[0].onload=function(){$(this).removeClass(c.class).removeAttr(c.srcStore),c.imglist[b]=null,this.onerror=this.onload=null},a[0].onerror=function(){this.src=c.onerrorImgUrl,$(this).removeClass(c.class).removeAttr(c.srcStore),c.imglist[b]=null,this.onerror=this.onload=null})}var c=this;c.imglist.each(function(d,e){if(!e)return;var f=$(e);if(!a(f))return;if(!f.attr(c.srcStore))return;b(f,d)})}};return a}),(window.jQuery||window.Zepto)&&function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(window.jQuery||window.Zepto),define("lib/swipe",function(){}),function(a,b,c){function f(a,c){this.wrapper=typeof a=="string"?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?" translateZ(0)":"",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",a=="h"?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function h(c,d){this.wrapper=typeof d.el=="string"?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,"touchstart",this),e.addEvent(a,"touchend",this)),this.options.disablePointer||(e.addEvent(this.indicator,e.prefixPointerEvent("pointerdown"),this),e.addEvent(a,e.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(e.addEvent(this.indicator,"mousedown",this),e.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=e.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f===!1?!1:f===""?a:f+a.charAt(0).toUpperCase()+a.substr(1)}var d={},e=b.createElement("div").style,f=function(){var a=["t","webkitT","MozT","msT","OT"],b,c=0,d=a.length;for(;c<d;c++){b=a[c]+"ransform";if(b in e)return a[c].substr(0,a[c].length-1)}return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},d.momentum=function(a,b,d,e,f,g){var h=a-b,i=c.abs(h)/d,j,k;return g=g===undefined?6e-4:g,j=a+i*i/(2*g)*(h<0?-1:1),k=i/g,j<e?(j=f?e-f/2.5*(i/8):e,h=c.abs(j-a),k=h/i):j>0&&(j=f?f/2.5*(i/8):0,h=c.abs(a)+j,k=h/i),{destination:c.round(j),duration:k}};var h=g("transform");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g("perspective")in e,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:g("transition")in e}),d.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g("transitionTimingFunction"),transitionDuration:g("transitionDuration"),transitionDelay:g("transitionDelay"),transformOrigin:g("transformOrigin")}),d.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},d.addClass=function(a,b){if(d.hasClass(a,b))return;var c=a.className.split(" ");c.push(b),a.className=c.join(" ")},d.removeClass=function(a,b){if(!d.hasClass(a,b))return;var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")},d.offset=function(a){var b=-a.offsetLeft,c=-a.offsetTop;while(a=a.offsetParent)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return a===0?0:a==1?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*2*c.PI/b)+1}}}),d.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var c=a.target,d;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(d=b.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();f.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){if(a.target!=this.scroller||!this.isInTransition)return;this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd"))},_start:function(a){if(e.eventType[a.type]!=1&&a.button!==0)return;if(!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&!e.isBadAndroid&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=a.touches?a.touches[0]:a,d;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")},_move:function(a){if(!this.enabled||e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime(),h,i,j,k;this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY);if(g-this.endTime>300&&j<10&&k<10)return;!this.directionLocked&&!this.options.freeScroll&&(j>k+this.options.directionLockThreshold?this.directionLocked="h":k>=j+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n");if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")a.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}f=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")a.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f;if(h>0||h<this.maxScrollX)h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX;if(i>0||i<this.maxScrollY)i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY;this.directionX=d>0?-1:d<0?1:0,this.directionY=f>0?-1:f<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y)},_end:function(a){if(!this.enabled||e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=a.changedTouches?a.changedTouches[0]:a,d,f,g=e.getTime()-this.startTime,h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m="";this.isInTransition=0,this.initiated=0,this.endTime=e.getTime();if(this.resetPosition(this.options.bounceTime))return;this.scrollTo(h,i);if(!this.moved){this.options.tap&&e.tap(a,this.options.tap),this.options.click&&e.click(a),this._execEvent("scrollCancel");return}if(this._events.flick&&g<200&&j<100&&k<100){this._execEvent("flick");return}this.options.momentum&&g<300&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1);if(this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}if(h!=this.x||i!=this.y){if(h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)m=e.ease.quadratic;this.scrollTo(h,i,l,m);return}this._execEvent("scrollEnd")},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var a=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(!this._events[a])return;var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)},_execEvent:function(a){if(!this._events[a])return;var b=0,c=this._events[a].length;if(!c)return;for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,f,g){a=a.nodeType?a:this.scroller.querySelector(a);if(!a)return;var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=b===undefined||b===null||b==="auto"?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)},_transitionTime:function(a){a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+"ms",!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]="0.001s");if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){this.scrollerStyle[e.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b;if(this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),e.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,e.prefixPointerEvent("pointerdown"),this),c(d,e.prefixPointerEvent("pointermove"),this),c(d,e.prefixPointerEvent("pointercancel"),this),c(d,e.prefixPointerEvent("pointerup"),this)),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b=a.getComputedStyle(this.scroller,null),c,d;return this.options.useTransform?(b=b[e.style.transform].split(")")[0].split(", "),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\d.]/g,""),d=+b.top.replace(/[^-\d.]/g,"")),{x:c,y:d}},_initIndicators:function(){function i(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var a=this.options.interactiveScrollbars,b=typeof this.options.scrollbars!="string",c=[],d,e=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:g("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:g("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators));for(var f=c.length;f--;)this.indicators.push(new h(this,c[f]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){i(function(){this.fade()})}),this.on("scrollCancel",function(){i(function(){this.fade()})}),this.on("scrollStart",function(){i(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})),this.on("refresh",function(){i(function(){this.refresh()})}),this.on("destroy",function(){i(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,"wheel",this),e.addEvent(this.wrapper,"mousewheel",this),e.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){e.removeEvent(this.wrapper,"wheel",this),e.removeEvent(this.wrapper,"mousewheel",this),e.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(!this.enabled)return;a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;this.wheelTimeout===undefined&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=undefined},400);if("deltaX"in a)a.deltaMode===1?(b=-a.deltaX*this.options.mouseWheelSpeed,d=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,d=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0);if(this.options.snap){e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:b<0&&e++,d>0?f--:d<0&&f++,this.goToPage(e,f);return}e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a=0,b,d=0,e,f,g,h=0,i,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight,l;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)return;if(this.options.snap===!0){f=c.round(j/2),g=c.round(k/2);while(h>-this.scrollerWidth){this.pages[a]=[],b=0,i=0;while(i>-this.scrollerHeight)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}}else{l=this.options.snap,b=l.length,e=-1;for(;a<b;a++){if(a===0||l[a].offsetLeft<=l[a-1].offsetLeft)d=0,e++;this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;d<e;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}e=this.pages[d].length;for(;f<e;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,d<0?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,f<0?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=d===undefined?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(b){var c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},d;if(typeof this.options.keyBindings=="object")for(d in this.options.keyBindings)typeof this.options.keyBindings[d]=="string"&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,"keydown",this),this.on("destroy",function(){e.removeEvent(a,"keydown",this)})},_key:function(a){if(!this.enabled)return;var b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25,j;this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=g-h<200?c.min(this.keyAcceleration+i,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b){this.goToPage(d,f);return}d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g},_animate:function(a,b,c,f){function l(){var m=e.getTime(),n,o,p;if(m>=k){g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd");return}m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),g.isAnimating&&d(l)}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,"touchstart",this),e.removeEvent(this.indicator,e.prefixPointerEvent("pointerdown"),this),e.removeEvent(this.indicator,"mousedown",this),e.removeEvent(a,"touchmove",this),e.removeEvent(a,e.prefixPointerEvent("pointermove"),this),e.removeEvent(a,"mousemove",this),e.removeEvent(a,"touchend",this),e.removeEvent(a,e.prefixPointerEvent("pointerup"),this),e.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,"touchmove",this),this.options.disablePointer||e.addEvent(a,e.prefixPointerEvent("pointermove"),this),this.options.disableMouse||e.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a,c,d,f,g,h=e.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),a.preventDefault(),a.stopPropagation()},_end:function(b){if(!this.initiated)return;this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,"touchmove",this),e.removeEvent(a,e.prefixPointerEvent("pointermove"),this),e.removeEvent(a,"mousemove",this);if(this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);if(this.scroller.x!=d.x||this.scroller.y!=d.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+"ms",!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,"iScrollBothScrollbars"),e.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(e.removeClass(this.wrapper,"iScrollBothScrollbars"),e.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var a=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=c.max(this.indicatorHeight+b*3,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=c.max(this.indicatorHeight-(b-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(b&&!this.visible)return;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[e.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}},f.utils=e,typeof module!="undefined"&&module.exports?module.exports=f:a.IScroll=f}(window,document,Math),define("lib/iscroll",function(){});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(deviceIsIOS&&a.type==="file"||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.determineEventType=function(a){return deviceIsAndroid&&a.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(a){var b;deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){var b,c;b=a.fastClickScrollParent;if(!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){var b,c,d;if(a.targetTouches.length>1)return!0;b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0];if(deviceIsIOS){d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(!deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(a){return a.control!==undefined?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase();if(d==="label"){b=this.findControl(g);if(b){this.focus(g);if(deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g)){if(a.timeStamp-c>100||deviceIsIOS&&window.top!==window&&d==="input")return this.targetElement=null,!1;this.focus(g),this.sendClick(g,a);if(!deviceIsIOS||d!=="select")this.targetElement=null,a.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){e=g.fastClickScrollParent;if(e&&e.fastClickLastScrollTop!==e.scrollTop)return!0}return this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):a.target.type==="submit"&&a.detail===0?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){var a=this.layer;deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){var b,c,d;if(typeof window.ontouchstart=="undefined")return!0;c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(c){if(!deviceIsAndroid)return!0;b=document.querySelector("meta[name=viewport]");if(b){if(b.content.indexOf("user-scalable=no")!==-1)return!0;if(c>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10){d=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(d[1]>=10&&d[2]>=3){b=document.querySelector("meta[name=viewport]");if(b){if(b.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}}}return a.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(a,b){return new FastClick(a,b)},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("lib/fastclick",[],function(){return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("app/index",["app/tool","app/dialog","app/toast","app/lazyload","lib/swipe","lib/iscroll","lib/fastclick"],function(a,b,c,d){var e={config:{url:"MOCK/index.json"},tpl:{bannerItem:'<div><a href="#{url}"><img src="#{imgUrl}" /></a></div>',bannerDotItem:"<i></i>",popbox:{test:'				<section class="pop_wrap">					<h2 style="padding:20px 0px;">测试弹窗</h2>				</section>'}},getData:function(){var a=this;$.ajax({url:a.config.url,type:"GET",dataType:"json",success:function(b){a.data=b,a.banner()},error:function(){alert("数据错误")}})},banner:function(){var b=this,c=function(){var c=b.data.banners,e="",f="";$.each(c,function(d){e+=a.formatTpl(b.tpl.bannerItem,{},c[d]),f+=a.formatTpl(b.tpl.bannerDotItem,{},{})}),$(".banner_wrap").html(e),$(".banner_dot_wrap").html(f).find("i").eq(0).addClass("active"),d()},d=function(){var a=document.getElementById("banner"),b=Swipe(a,{startSlide:0,auto:5e3,continuous:!0,disableScroll:!1,stopPropagation:!0,callback:function(a,b){},transitionEnd:function(a,b){$(".banner_dot_wrap i").removeClass("active"),$(".banner_dot_wrap i").eq(a).addClass("active")}})},e=function(){c()};e()},recommendList:function(){var a=new IScroll("#recommend_wrapper",{scrollX:!0,scrollY:!1,eventPassthrough:!0,preventDefault:!1})},init:function(){this.getData(),this.recommendList(),b.ready(),c.ready(),b.open(this.tpl.popbox.test),$("#dialogWrapper").click(function(){b.close()}),c.show("测试"),a.countdown.init("countdown1","2015/5/26 10:00:00",function(){alert(1)}),console.log(a.formatDate("1430370000000","yyyy年MM月dd日 hh:mm:ss")),d.init()}};e.init(),document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)}),function(a,b){function c(b,d){if(!(this instanceof c))return(new c(b,d)).sa();var g=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),i=d?f.extend(h,d):h;this.eb=function(){return e.apply(this,i.i)},this.gb=function(){return e.apply(this,i.C)},this.ib=function(){return e.apply(this,i.D)},this.sa=function(){return{i:this.eb(),D:this.ib(),C:this.gb()}},this.kb=function(){return g},this.Db=function(a){g=a},this.Db(g)}function d(a,c){for(var d in c)if("object"==typeof c[d]&&0<c[d].length){for(var e=0;e<c[d].length;e++)if(f.wa(c[d][e],a))return"?"===d?b:d}else if(f.wa(c[d],a))return"?"===d?b:d;return a}function e(){for(var a,c=0,d,e,f,g,h,i=arguments;c<i.length;c+=2){h=i[c];var j=i[c+1];if("undefined"==typeof a)for(f in a={},j)d=j[f],"object"==typeof d?a[d[0]]=b:a[d]=b;for(d=e=0;d<h.length;d++)if(g=h[d].exec(this.kb())){for(f=0;f<j.length;f++)h=g[++e],(d=j[f])&&("object"==typeof d&&0<d.length?2==d.length?a[d[0]]="function"==typeof d[1]?d[1].call(this,h):d[1]:3==d.length?a[d[0]]="function"!=typeof d[1]||d[1].exec&&d[1].test?h?h.replace(d[1],d[2]):b:h?d[1].call(this,h,d[2]):b:4==d.length&&(a[d[0]]=h?d[3].call(this,h.replace(d[1],d[2])):b):a[d]=h?h:b);break}if(g)break}return a}var f={extend:function(a,b){for(var c in b)-1!=="browser cpu device engine os".indexOf(c)&&0===b[c].length%2&&(a[c]=b[c].concat(a[c]));return a},wa:function(a,b){if("string"==typeof a)return-1!==b.toLowerCase().indexOf(a.toLowerCase())},vb:function(a){return a.toLowerCase()}},g={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"},h={i:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/(UCWEB)((\d+)?[\w\.]+)/i],[["name","UCBrowser"],"version"],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(\bwebkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(lebrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/(version\/((\d+)?[\w\.]+))?.+?(mobile\s?safari|safari)(\/([\d\.]+))?/i],[,"version","major","name",,"version"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",d,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",d,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(applewebkit)\/?([\d\.]+)/i],[["name","webkit"],"version"]],C:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",d,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\((bb10);\s(\w+)/i],[["vendor","BlackBerry"],"model",["type","mobile"]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7))/i],[["vendor","Asus"],"model",["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type","tablet"]],[/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/((playstation)\s[3portablevi]+)/i],[["vendor","Sony"],"model",["type","console"]],[/(sprint\s(\w+))/i],[["vendor",d,{HTC:"APA",Sprint:"Sprint"}],["model",d,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(Lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[["vendor","Lenovo"],"model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-?(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[["vendor","Motorola"],"model",["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(sie)-(\w+)*/i],[["vendor","Siemens"],"model",["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[["vendor","Acer"],"model",["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor",["type","smarttv"]],[/((nexus\s[45]))/i,/(lg)[e;\s\/-]+(\w+)*/i],[["vendor","LG"],"model",["type","mobile"]],[/android.+((ideatab[a-z0-9\-\s]+))/i],[["vendor","Lenovo"],"model",["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],[["type",f.vb],"vendor","model"]],D:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",d,g]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",d,g]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(Linux; U; )(adr )?([\d\.]+)/i],[["name","Android"],,"version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],["name",["version",/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]};a.UAParser=c}(this);var l="",s={},v;E.prototype={o:!1,w:"",e:{},I:{},r:{},set:function(a,b,c,d,e,f){G(this,a)||this.load(a),G(this,a)||(this.e[a]={}),b?this.e[a][b]=c:this.e[a]=c,(e=H(this,a))||this.I.hasOwnProperty(a)&&(e=this.I[a]),b="",b="json"===e?JSON.stringify(this.e[a]):F.O(this.e[a]),(f=I(this,a))||d&&(f=3600),d=t(),F.q("ln_"+a,b,f,"/",d)},get:function(a,b){G(this,a)||this.load(a);if(!G(this,a))return"";if(!b)return this.e[a];if(this.e[a].hasOwnProperty(b))return this.e[a][b]},load:function(a){var b="",c=J(this,"ln_"+a);if(c)for(var d=0;d<c.length;d++){var e=unescape(c[d]),f=F.Ya(e),e=F.ra(e);d===c.length-1&&(b=f)}b&&(this.e[a]=b,this.I[a]=e,JSON.stringify(b))},clear:function(a,b){if(b){var c=this.get(a);c&&c.hasOwnProperty(b)&&(delete c.key,K(this,a,c,H(this,a),I(this,a)))}else delete this.e[a],F.oa("ln_"+a),this.w=F.ca()}},L.prototype={};var F={ac:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+864e5*c),c="; expires="+d.toGMTString()}else c="";document.cookie=a+"="+b+c+"; path=/"},q:function(a,b,c,d,e,f){var g=new Date;g.setTime(g.getTime()+864e5*c),document.cookie=a+"="+escape(b)+(c?"; expires="+g.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")},ca:function(){var a={},b=document.cookie.split(";");if(b){for(var c=0;c<b.length;c++){var d=F.trim(b[c]),e=F.Fa(d,"="),f=d.substring(0,e),d=d.substring(e+1,d.length);a.hasOwnProperty(f)||(a[f]=[]),a[f].push(d)}return JSON.stringify(a),a}},Ba:function(a){var b=F.ca();if(b)return b.hasOwnProperty(a)?b[a]:""},oa:function(a,b){b||(b=t()),F.q(a,"",-1,"/",b),F.Ba(a)&&("."===b.substr(0,1)?F.q(a,"",-2,"/",b.substr(1)):F.q(a,"",-2,"/",b))},dc:function(a,b){for(var c=0;c<a.length;c++)F.oa(a[c],b)},mc:function(a){var b=[];a=unescape(a).split("|||");for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].split("=>");b[d[0]]=d[1]}return b},nc:function(a){var b={};a=unescape(a).split("|||");for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].split("=>");b[d[0]]=d[1]}return b},oc:function(){for(var a={},b,c,d,e,f,g,h=location.href.split(/[?&]/),i=h.length,j=1;j<i;j++)if((d=h[j].match(/(.*?)(\..*?|\[.*?\])?=([^#]*)/))&&4==d.length){e=decodeURI(d[1]).toLowerCase(),f=a,g=decodeURI(d[3]);if(d[2])for(c=decodeURI(d[2]).replace(/\[\s*\]/g,"[-1]").split(/[\.\[\]]/),b=0;b<c.length;b++)f=f[e]?f[e]:f[e]=parseInt(c[b])==c[b]?[]:{},e=c[b].replace(/^["\'](.*)["\']$/,"$1");"-1"!=e?f[e]=g:f[f.length]=g}return a},Fa:function(a,b,c){return a=(a+"").indexOf(b,c||0),-1===a?!1:a},rc:function(a,b){return a.split(b).length-1},ic:function(a,b){var c="",d="",e="";1===arguments.length&&(b=a,a="");if("object"==typeof b){if(b instanceof Array)return b.join(a);for(c in b)d+=e+b[c],e=a;return d}return b},Yb:function(a){return G(s,a)},pc:function(a,b,c,d,e,f){return B(a,b,c,d,e,f)},replaceState:function(a,b,c,d,e){return K(s,a,b,d,e)},hc:function(a){return a=unescape(F.Ba("ln_"+a)),a?a:void 0},ta:function(a,b){return C(a,b)},$b:function(a,b){return s.clear(a,b)},ra:function(a){var b="";return b="{"===a.substr(0,1)?"json":"assoc"},Ya:function(a){var b="",b="json"===F.ra(a)?JSON.parse(a):F.pb(a);return JSON.stringify(b),b},cc:function(a,b){return"json"===(b||"assoc")?JSON.stringify(a):F.O(a)},jc:function(a){return"object"==typeof a&&a instanceof Array},kc:function(a){return a instanceof Array?!1:null!==a&&"object"==typeof a},Wa:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},pb:function(a,b,c){b=b||"=>";if(a){if(!F.Fa(a,b))return a;var d={};a=a.split(c||"|||"),c=0;for(var e=a.length;c<e;c++){var f=a[c].split(b);d[f[0]]=f[1]}return d}},O:function(a){var b="",c=0,d=F.Wa(a),e;for(e in a)c++,b+=e+"=>"+a[e],c<d&&(b+="|||");return b},Hb:function(a){return"www"===a.split(".")[0]?a.substring(4):a},trim:function(a,b){var c,d=0,e=0;a+="",c=b?(b+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \n\r	\f            ​\u2028\u2029　",d=a.length;for(e=0;e<d;e++)if(-1===c.indexOf(a.charAt(e))){a=a.substring(e);break}d=a.length;for(e=d-1;0<=e;e--)if(-1===c.indexOf(a.charAt(e))){a=a.substring(0,e+1);break}return-1===c.indexOf(a.charAt(0))?a:""},Aa:function(a,b){var c=arguments.length;if(0===c)a=0,b=2147483647;else if(1===c)throw Error("Warning: rand() expects exactly 2 parameters, 1 given");return Math.floor(Math.random()*(b-a+1))+a},qc:function(){function a(a,d,e,f,g,h,i){return a>>>=0,e=e&&a&&{2:"0b",8:"0",16:"0x"}[d]||"",a=e+c(a.toString(d),h||0,"0",!1),b(a,e,f,g,i)}function b(a,b,d,e,f,g){var h=e-a.length;return 0<h&&(a=d||!f?c(a,e,g,d):a.slice(0,b.length)+c("",h,"0",!0)+a.slice(b.length)),a}function c(a,b,c,d){return c||(c=" "),b=a.length>=b?"":Array(1+b-a.length>>>0).join(c),d?a+b:b+a}var d=arguments,e=0;return d[e++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,function(g,h,i,j,k,l,m){var n,o;if("%%"==g)return"%";k=!1,n="";var p=!1,q=!1;o=" ";for(var r=i.length,s=0;i&&s<r;s++)switch(i.charAt(s)){case" ":n=" ";break;case"+":n="+";break;case"-":k=!0;break;case"'":o=i.charAt(s+1);break;case"0":p=!0;break;case"#":q=!0}j=j?"*"==j?+d[e++]:"*"==j.charAt(0)?+d[j.slice(1,-1)]:+j:0,0>j&&(j=-j,k=!0);if(!isFinite(j))throw Error("sprintf: (minimum-)width must be finite");l=l?"*"==l?+d[e++]:"*"==l.charAt(0)?+d[l.slice(1,-1)]:+l:-1<"fFeE".indexOf(m)?6:"d"==m?0:void 0,h=h?d[h.slice(0,-1)]:d[e++];switch(m){case"s":return m=String(h),null!=l&&(m=m.slice(0,l)),b(m,"",k,j,p,o);case"c":return m=String.fromCharCode(+h),null!=l&&(m=m.slice(0,l)),b(m,"",k,j,p,void 0);case"b":return a(h,2,q,k,j,l,p);case"o":return a(h,8,q,k,j,l,p);case"x":return a(h,16,q,k,j,l,p);case"X":return a(h,16,q,k,j,l,p).toUpperCase();case"u":return a(h,10,q,k,j,l,p);case"i":case"d":return g=parseInt(+h,10),n=0>g?"-":n,h=n+c(String(Math.abs(g)),l,"0",!1),b(h,n,k,j,p);case"e":case"E":case"f":case"F":case"g":case"G":return g=+h,n=0>g?"-":n,o=["toExponential","toFixed","toPrecision"]["efg".indexOf(m.toLowerCase())],m=["toString","toUpperCase"]["eEfFgG".indexOf(m)%2],h=n+Math.abs(g)[o](l),b(h,n,k,j,p)[m]();default:return g}})},W:function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent))return!0},U:function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent.match(/MSIE ([0-9]{1,}[.0-9]{0,})/);b&&(a=parseFloat(b[1]))}return a}};O.prototype={get:function(a){if(this.H.hasOwnProperty(a))return this.H[a]},set:function(a,b){this.H[a]=b}},P.prototype={o:0,c:{},startTime:null,p:!1,getTime:function(){return Math.round((new Date).getTime())}},function(a,b,c){function e(a){return function(){return a.apply(g,arguments)}}var d,f;"object"==typeof a.Avatar&&a.Avatar instanceof Array&&(f=a.Avatar.slice(),a.Avatar=null);var g={b:null,g:null,X:null,K:null,Va:null,s:[],ya:[],Z:!0,ga:!1,d:{Qa:{a:"ak",get:function(){return this.a},set:function(a){this.a=a}},B:{a:2e3,get:function(){return this.a},set:function(a){this.a=a}},Ib:{a:500,get:function(){return this.a},set:function(a){this.a=a}},startTime:{a:0,get:function(){return this.a},set:function(a){this.a=a}},Ha:{a:!0,get:function(){return this.a},set:function(a){this.a=a}},N:{a:{ua:c.userAgent},get:function(){return this.a},set:function(a){a.ua=this.a.ua,this.a=a}},Jb:{a:null,get:function(){return this.a},set:function(a){this.a=a}},Ja:{a:null,get:function(){return this.a},set:function(a){this.a=a}},Ia:{a:null,get:function(){return this.a},set:function(a){this.a=a}},ma:{get:function(){return l},set:function(a){z(a)}},f:{get:function(a){return a.b.options.f},set:function(a,b){void 0===a&&(a="http://fsr.lenovomm.com/reaper/server/image2/_t.gif"),b.b.options.f=a}},Bb:{get:function(a){return a.b.options.ea},set:function(a,b){void 0===a&&(a=1800),b.b.options.ea=a}},hb:{get:function(a){return a.b.options.Y},set:function(a,b){void 0===a&&(a=2e3),b.b.options.Y=a}},repeat:{get:function(a){return a.b.options.Ca},set:function(a,b){void 0===a&&(a=3),b.b.options.Ca=a}},la:{get:function(){return this.a},set:function(a){this.a=a}},o:{get:function(){return this.a},set:function(a){this.a=a}}},A:{Xb:"",$a:{t:"",l:"",Ma:"",ja:"",u:"",Oa:"",ka:"",Na:"",m:"",v:""},Kb:{Tb:"visitor_id",Rb:"session_id",Mb:"",Pb:"page_type",Vb:"tsps",Nb:"timestamp",Qb:"residence_time",Wb:"page_url",Ub:"serial",Sb:"source",Ob:"extraWebInfo"},Zb:null,Sa:{Ka:"",La:"",M:"",Pa:""}},jb:function(a){if(a)return this.d[a].get(this)},Da:function(a,b,c){switch(a){case"trackers":this.rb(b);break;case"appKey":b=F.L(b,12,"_"),this.A.ak=b,c||this.Ga();break;case"trackStayTime":c||b&&this.xa()}this.d[a]&&this.d[a].set(b,this)},Ea:function(a,b){for(var c in a)this.Da(c,a[c],b)},ta:function(a,b){return C(a,b)||""},V:function(a){return Q(this.b,a)||""},setProperty:function(a,b){this.b.c[a]=b},fa:function(a){s.hasOwnProperty("init")||(s=new E),this.b||this.na();var b=this.d,c;for(c in b)void 0===b[c].a&&b[c].set(void 0,this);a&&this.Ea(a,!0),this.g=(new UAParser).sa(),this.lb(),(a=this.d.o.get())&&a();if(a=this.d.startTime.get())this.b.startTime=a,this.b.page.set("timestamp",a);this.ga=!0,this.d.Ha.get()&&this.xa(),this.Ga(),a&&this.mb(),this.ob()},ob:function(){var a=this.d.la.get(),b;a&&(a.remover(),b=this.ya=a.events);for(var a=this.s,c=0,d=a.length;c<d;c++){var e=a[c];this.apply(e);if(b&&b.length)for(var f=e.target,g=0,h=b.length;g<h;g++){var i=b[g];f.contains(i.currentTarget||i.target)&&e.aa(i)}}},na:function(){var a=this.b=new P;a.wb();var b=document.referrer,c="direct";if(b){var d=new L(b);document.domain!=N(d)&&(c=F.Hb(N(d)))}B("s","source",c),a.c.source=c,a.p?(B("s","pref",""),a.c.pref="",B("s","ref",b||""),a.c.ref=b||"",B("s","url",location.href)):(b=C("s","url")||"",b!=location.href?(c=C("s","ref")||"",B("s","pref",c),a.c.pref=c,B("s","ref",b),a.c.ref=b,B("s","url",location.href)):(b=C("s","pref"),a.c.pref=b,b=C("s","ref"),a.c.ref=b))},va:function(){return this.b||this.na(),R(this.b),this.V("visitor_id")},Xa:function(a,b){var c={Q:void 0!=b.Q?b.Q:"",action:void 0!=b.action?b.action:"",label:void 0!=b.label?b.label:"",F:void 0!=b.F?b.F:{},value:void 0!=b.value?b.value:""},d=5,e=c.F,f;for(f in e)d--;for(;0<d;)e["k"+d]="",d--;a.set("ci",c)},lb:function(){var d=this.A,e=d.$a,f=a.lestore,g=!1;if(f&&f.getDeviceInfo){var h=JSON.parse(f.getDeviceInfo());try{h=JSON.parse(h)}catch(i){h=null}h&&(g=!0,e.ja=h.osVersion,e.t=h.deviceIdType,e.l=h.deviceId,e.u=h.deviceModel,e.Oa=h.manufacture,e.ka=h.resolution,e.Na=h.imsi)}g||(f&&f.getApp5IMEI?(e.l=f.getApp5IMEI(),e.t="imei"):(f=window.App5)&&f.getApp5IMEI&&(e.l=f.getApp5IMEI(),e.t="imei"),e.l||(e.l=J(s,"appLenovo3gUUID")||this.va(),e.t="uuid"),e.ka=a.screen.width+"x"+a.screen.height,e.ja=this.g.D.name+" "+this.g.D.version,e.u=this.g.C.vendor+" "+this.g.C.lc),e.u||(e.u="unknown"),e.Ma=this.V("source"),e.m=this.d.Ja.get(),e.m?e.v=this.d.Ia.get():(f=window.lestore||window.App5||window.newxb)&&"function"==typeof f.getVersion&&(e.m=f.getVersion(),"function"==typeof f.getVersionCode&&(e.v=f.getVersionCode())),e.m||(e.m=this.g.i.name+"_"+this.g.i.version),e.v||(e.v=0),d.ab=this.k(e),e=d.Sa,e.Pa=c.language||c.browserLanguage||"?",void 0!=c.cookieEnabled?e.M=c.cookieEnabled?1:0:(b.cookie="testCookie=",-1==b.cookie.indexOf("testCookie=")?e.M=0:(e.M=1,b.cookie="testCookie=;expires="+(new Date(0)).toUTCString())),e.Ka=this.g.i.name,e.La=this.g.i.version,d.Ta=this.k(e)},k:function(a){var b="",c;for(c in a){var d=a[c];if(d instanceof Array){for(var e="",f=0,g=d.length;f<g;f++)e+=""+(void 0==d[f]?"":F.S(d[f]));e=e.substr(1),b+=""+e}else if(d instanceof Object){var e="",h;for(h in d)e+=""+h+""+(void 0==d[h]?"":F.S(d[h]));e=e.substr(1),b+=""+e}else b+=""+(void 0==a[c]?"":F.S(a[c]))}return b.substr(1)},bb:function(a){var b=a.wi={},c=this.A.Kb,d;for(d in c)b[d]=a[c[d]]},yb:function(){for(var a in k)F[a]=k[a];for(a in j)P.prototype[a]=j[a];var b;if(f){a=0;for(var c=f.length;a<c;a++)"[object Object]"==Object.prototype.toString.call(f[a])?(b=f[a],this.fa(b)):this.push(f[a])}},push:function(b){var c=a.Avatar;if(b instanceof Array){var d;c[b[0]]&&"function"==typeof c[b[0]]?d=c:this.b&&this.b[b[0]]&&"function"==typeof this.b[b[0]]&&(d=this.b),d&&d[b[0]].apply(d,Array.prototype.slice.call(b,1))}else if("object"==typeof b)this.fa(b);else if("function"==typeof b)try{b()}catch(e){}},Za:function(){F.detachEvent(b,"click",this.Va),F.detachEvent(a,"load",this.X),F.detachEvent(a,"unload",this.K),delete a.Lb},rb:function(a){a instanceof Array||(a=[a]);for(var b=0,c=a.length;b<c;b++)this.qb(a[b])},qb:function(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=a,document.head.appendChild(b)},Ga:function(){var a=this.b.page;a.set("page_type",2),a.set("extraWebInfo",this.d.N.get()),this.b.ia(a)},mb:function(){function c(){e&&(e=!1,c=function(){},d.tb())}var d=this,e=!0;if(b.addEventListener){if("interactive"===b.readyState||"complete"===b.readyState||"loaded"===b.readyState)return c();b.addEventListener("DOMContentLoaded",function f(){b.removeEventListener("DOMContentLoaded",f,!1),c()},!1)}else if(b.attachEvent){if("complete"===b.readyState)return c();b.attachEvent("onreadystatechange",function g(){"complete"===b.readyState&&c(),e||b.detachEvent("onreadystatechange",g)}),b.documentElement.doScroll&&a===a.top&&function h(){if(e){try{b.documentElement.doScroll("left")}catch(a){return setTimeout(h,0)}c()}}()}/WebKit/.test("userAgent")&&setTimeout(function i(){e&&(/loaded|complete/.test(b.readyState)?c():setTimeout(i,10))},10),this.X=function(){c()},F.h(a,"load",this.X)},xa:function(){var b=this;this.K||(this.K=function(){b.sb()},F.h(a,"unload",this.K))},tb:function(){this.ha(["","LOADTIME","",[F.n()-this.b.startTime]])},sb:function(){this.d.B.set(0);var a=this.b.page;a.set("page_type",3),a.set("ci",null);var b=F.n();a.set("timestamp",b),a.set("residence_time",b-this.b.startTime),this.b.ia(a)},ha:function(a,b,c){var d=new O;d.set("page_type",0),d.set("noDelay",b),this.Xa(d,{Q:a[0],action:a[1],label:a[2],F:a[3],value:a[4]}),d.set("extraWebInfo",this.d.N.get()),this.Z=!c,this.b.ia(d)},register:function(a,b){if(a&&(!(a instanceof HTMLCollection||a instanceof NodeList)||a.length)){var c={},d=Object.prototype.toString.call(b);"[object Function]"==d?(c.data={},c.data.parser=b):"[object Object]"==d?b.selector?(d=[],d.push(b),c.$=d):c.data=b:"[object Array]"==d&&(c.$=b);if(a instanceof HTMLCollection||a instanceof NodeList)for(var d=0,e=a.length;d<e;d++){var f={},g;for(g in c)f[g]=c[g];f.target=a[d],this.ga?this.apply(f):this.s.push(f)}else c.target=a,this.ga?this.apply(c):this.s.push(c)}},apply:function(a){var b=this;if(a.data)a.aa=function(c){b.da(a.data,a.target,c)};else if(a.$){for(var c=a.$,d=0,e=c.length;d<e;d++)(function(c){c.selector||D("No selector specified: "+JSON.stringify(c));var d=c.selector,e=b.xb[d.charAt(0)],f=d.substr(1);c.Ua=function(d){var g=e(a.target,d.target,f);g&&b.da(c,g,d)}})(c[d]);a.aa=function(a){for(var b=0,d=c.length;b<d;b++)c[b].Ua(a)}}F.h(a.target,"click",a.aa)},click:function(a){this.s.length&&this.Ab(a),this.sc.length&&this.ya.push(a)},Ab:function(a,c){var d;d=c?[c]:this.s.slice();for(var e=a.target;d.length&&e&&e!=b;){for(var f=0,g=0,h=d.length;g<h;g++)d[g].match(e)&&(f++,this.da(d[g],e,a),d[g]=null);for(g=0;f;)null==d[g]?(d.splice(g,1),f--):g++;e=e.parentNode}},da:function(a,b,c){(b=a.args?a.parser.apply(null,[c,b].concat(a.args)):a.parser(c,b))&&this.ha(b,a.noDelay,a.leaving)},xb:{".":function(a,b,c){for(;b&&b!=a;){var d=b.className.replace(/(^\s+)|(\s+$)/g,"");if(d&&(d=d.replace(/\s+/g," "),d=d.split(" "),-1<d.indexOf(c)))return b;b=b.parentNode}return null},"*":function(a,b,c){for(;b&&b!=a;){if(b.hasAttribute(c))return b;b=b.parentNode}return null}}},h=a.Avatar={};h.push=e(g.push),h.setup=e(g.fa),h.destroy=e(g.Za),h.register=e(g.register),h.apply=e(g.apply),h.track=e(g.ha),h.getUserId=e(g.va),h.getOption=e(g.jb),h.setOption=e(g.Da),h.setOptions=e(g.Ea),h.getState=e(g.ta),h.getProperty=e(g.V),h.setProperty=e(g.setProperty);var i=g.d,h=h.config={appKey:i.Qa,delay:i.B,throttle:i.Ib,repeat:i.repeat,clicks:i.la,startTime:i.startTime,trackStayTime:i.Ha,PVInfo:i.N,trackers:i.Jb,versionName:i.Ja,versionCode:i.Ia,cookieDomain:i.ma,serverUrl:i.f,session:i.Bb,getLimit:i.hb,init:i.o};for(d in h)i[d]=h[d];var j={P:null,J:null,bc:null,send:function(a){if(this.options.f){var b=!0,c="";g.Z&&(b=F.T(a),c=this.options.f,c=-1===c.indexOf("?")?c+"?":c+"&",c+=b,b=c.length>this.options.Y),b?this.j(a):this.fb(c)}},fb:function(a){(new Image(1,1)).src=a},ia:function(b){b=b.H,g.bb(b);if(g.Z&&!b.noDelay&&g.d.B.get()){if(this.J){a.clearTimeout(this.J);var c=this.P;c.wi.push(g.k(b.wi)),c.ci.push(g.k(b.ci))}else this.P=this.za(b);this.nb()}else this.send(this.za(b))},nb:function(){var b=this;this.J=a.setTimeout(function(){b.J=null,b.send(b.P)},g.d.B.get())},za:function(a){var b=g.A,c={ak:b.ak,di:b.ab};c.wi=[g.k(a.wi)];var d=null;return a.ci&&(d=g.k(a.ci)),c.ci=[d],c.bi=b.Ta,c.ts=a.timestamp,c},j:function(b){a.XMLHttpRequest&&"withCredentials"in new a.XMLHttpRequest?this.j=function(b,c){void 0==c&&(c=g.d.repeat.get(g)),c--;var d=new a.XMLHttpRequest;d.open("POST",this.options.f),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var e=this;d.onreadystatechange=function(){4==d.readyState&&200!=d.status&&c&&e.j(b,c)},d.send(F.T(b))}:this.j=a.XDomainRequest?function(b,c){void 0==c&&(c=g.d.repeat.get()),c--;var d=new a.XDomainRequest;d.open("POST",this.options.f);var e=this;d.onerror=function(){c&&e.j(b,c)},d.send(F.T(b))}:function(a){this.zb(a)},this.j(b)},cb:function(){if(F.W()&&9>F.U())var a=b.createElement('<iframe name="owa-tracker-post-iframe" src="about:blank" width="1" height="1"></iframe>');else a=b.createElement("iframe"),a.setAttribute("name","owa-tracker-post-iframe"),a.setAttribute("src","about:blank"),a.setAttribute("width",1),a.setAttribute("height",1);return a.setAttribute("class","owa-tracker-post-iframe"),a.setAttribute("style","border: none;"),b.body.appendChild(a),a},zb:function(b){function c(b){function c(a,b){if(F.W()&&9>F.U())var c=e.createElement("<input type='hidden' name='"+a+"' />");else c=e.createElement("input"),c.setAttribute("name",a),c.setAttribute("type","hidden");return c.setAttribute("value",b),c}var f=this.options.f,g="post_form"+Math.random();if(F.W()&&9>F.U())var h=e.createElement('<form name="'+g+'"></form>');else h=e.createElement("form"),h.setAttribute("name",g);h.setAttribute("id",g),h.setAttribute("action",f),h.setAttribute("method","POST");for(var i in b)if(b.hasOwnProperty(i))if(f=b[i],f instanceof Array)for(var j=0,k=f.length;j<k;j++)h.appendChild(c(i,f[j]));else h.appendChild(c(i,f));e.body.appendChild(h),e.forms[g].submit(),e.body.removeChild(h),a.setTimeout(function(){document.body.removeChild(d)},1e3)}var d=this.cb(),e;(function f(){var g=null;d.contentDocument?g=d.contentDocument:d.contentWindow&&d.contentWindow.document?g=d.contentWindow.document:d.document&&(g=d.document),g.open(),g.close(),(e=g)?c.call(this,b):a.setTimeout(f,10)}).call(this)},wb:function(){var a=C("s","last_req");this.c.last_req=a,B("s","last_req",this.page.get("timestamp"),!0),R(this),a=C("v","fsts"),a||(a=this.page.get("timestamp"),B("v","fsts",a,!0)),this.c.fsts=a,a=Math.round((this.page.get("timestamp")-a)/86400),B("v","dsfs",a),this.c.dsfs=a;var a="",a=this.page.get("timestamp"),b=Q(this,"last_req");a||(a=F.n()),b||(b=0),(a-b)/1e3<this.options.ea?(a=C("s","sid"),this.c.session_id=a):((a=C("s","sid"))&&(this.c.prior_session_id=a),a=C("s","last_req"),s.clear("s",void 0),B("s","last_req",a),a=F.qa(10),this.c.session_id=a,this.p=this.c.is_new_session=!0,B("s","sid",a,!0)),Q(this,"session_id")||(a=F.qa(20),this.c.session_id=a,this.p=this.c.is_new_session=!0,B("s","sid",a,!0)),(a=C("v","nps"))||(a="0"),!0===this.p&&(a*=1,a++,B("v","nps",a,!0)),this.c.nps=a,this.Cb(),this.Eb()},gc:function(){return this.options.f},Eb:function(){var a=1;if(!this.p){var b=C("s","vs");b&&(b++,a=b)}B("s","vs",a),this.c.serial=a},Cb:function(){var a="";Q(this,"is_new_session")&&(a=this.page.get("timestamp"),a-=Q(this,"last_req")||a,B("s","tsps",a)),a||(a=C("s","tsps")||0),this.c.tsps=a}},k={h:function(b,c,d){b.addEventListener?F.h=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(F.h=function(b,c,d){var e=d.Ra=function(){var b=a.ec;b.target=b.srcElement,d(b)};b.attachEvent("on"+c,e)}),F.h(b,c,d)},detachEvent:function(a,b,c){a.addEventListener?F.detachEvent=function(a,b,c){a.removeEventListener(b,c,!1)}:a.attachEvent&&(F.detachEvent=function(a,b,c){a.attachEvent("on"+b,c.Ra)}),F.detachEvent(a,b,c)},T:function(){function a(a){return(a=null==a?"":a.toString())&&(a=encodeURIComponent(a)),a}return function(b){var c="",d;for(d in b)if(b[d]instanceof Array)for(var e=0,f=b[d].length;e<f;e++)c+="&"+d+"="+a(b[d][e]);else c+="&"+d+"="+a(b[d]);return c.substr(1)}}(),n:function(){return(new Date).getTime()},L:function(a,b,c){return a||(a=""),b?(b-=a.length,0<b?a=Array(b+1).join(c||"0")+a:0>b&&(a=a.substr(-b)),a):a},qa:function(a){return this.pa(a,10)},pa:function(a,b){b||(b=16);var c=(new Date).getTime().toString(b),d=c.length;if(isNaN(a)||a==d)return c;a<d&&(d=a/2,c=this.L(c,d));var e=Math.round((a-d)/2),f=Math.pow(10,e)-1,g=this.L(this.Aa(0,f).toString(b),e),e=a-d-e,f=Math.pow(10,e)-1,d=this.L(this.Aa(0,f).toString(b),e);return c+g+d},S:function(a){return"string"!=typeof a?a:(a+"").replace(/./g,function(a){return 255<a.charCodeAt(0)?encodeURIComponent(a):a})}};g.yb()}(window,document,navigator),define("app/avatar",function(){}),require.config({baseUrl:"js",paths:{zepto:"lib/zepto.min",avartar:"app/avatar",avatarCfg:"app/avatarCfg",tracker:"app/tracker"},shim:{zepto:{exports:"zepto"},avatarCfg:{exports:"avatarCfg",deps:["tracker"]},avatar:{exports:"avatar",deps:["avatarCfg"]}}}),require(["app/index","app/avatar"]),define("conf/indexConf",function(){})