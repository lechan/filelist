<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/> 
<title>无标题文档</title>
<style type="text/css">
*{ margin:0px; padding:0px;}
.wrap{ max-width:640px; margin:0 auto; border-left:1px solid #fff; border-right:1px solid #fff; overflow:hidden;}
.item{ padding:20px 0px; color:#fff; text-align:center; line-height:20px; border:2px solid #fff;}
.item h2{ font-size:16px;}
.item h3{ font-size:14px;}
</style>
</head>

<body>
<div class="wrap">
	<div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
    <div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
    <div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
    <div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
    <div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
    <div class="item">
    	<h2>王文琪（作者同学）</h2>
        <h3>分享装逼用</h3>
    </div>
</div>
<script type="text/javascript">


(function(){
	var 
	randomColor = function(){
		var a=Math.round(Math.random()*0x1000000),c="00000".concat(a.toString(16));
		return "#"+c.substr(c.length-6,6);	
	},
	rgb2hex = function(a,b,c){return"#"+((256+a<<8|b)<<8|c).toString(16).slice(1)},
	hex2rgb = function(hex){
		var 
		R = parseInt(hex.substring(1,3),16),
		G = parseInt(hex.substring(3,5),16),
		B = parseInt(hex.substring(5),16);
		return {"R":R,"G":G,"B":B}	
	},
	greyLevel = function(RGB){
		return RGB.R*0.299 + RGB.G*0.587 + RGB.B*0.114;
	},
	itemObj = document.querySelectorAll(".item"),i,len = itemObj.length;
	console.log(hex2rgb("#ff00ff"));
	for(i=0;i<len;i++){
		var
		randomBg = randomColor(),
		RGB = hex2rgb(randomBg),
		g = greyLevel(RGB);
		if(g >= 192){
			itemObj[i].style.color = "#000000";		
		}
		itemObj[i].style.background = randomBg;	
	}
})()
</script>
</body>
</html>
